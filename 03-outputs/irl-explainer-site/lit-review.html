<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Your First IRL Project | Literature Review Tutorial</title>
    <style>
      :root {
        --bg: #ffffff;
        --ink: #111827;
        --muted: #4b5563;
        --subtle: #6b7280;
        --border: #e5e7eb;
        --teal: #0d9488;
        --teal-light: #ccfbf1;
        --amber: #d97706;
        --amber-light: #fef3c7;
        --sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
        --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }
      * { box-sizing: border-box; }
      body {
        margin: 0;
        background: linear-gradient(180deg, #ffffff 0%, #fbfbfb 70%, #ffffff 100%);
        color: var(--ink);
        font-family: var(--sans);
        line-height: 1.7;
      }
      .topbar {
        position: sticky; top: 0; z-index: 50;
        background: rgba(255,255,255,0.82);
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid var(--border);
      }
      .topbar-inner {
        max-width: 860px; margin: 0 auto;
        padding: 12px 18px;
        display: flex; align-items: center; justify-content: space-between;
      }
      .brand {
        display: inline-flex; align-items: center; gap: 10px;
        font-weight: 650; color: var(--ink); text-decoration: none;
      }
      .brand svg { width: 14px; height: 14px; display: block; }
      .topbar a.util {
        font-family: var(--mono); font-size: 12px;
        color: var(--subtle); text-decoration: none;
      }
      .topbar a.util:hover { color: var(--ink); text-decoration: none; }
      .wrap { max-width: 860px; margin: 0 auto; padding: 28px 18px 80px; }

      header { padding: 26px 0 22px; border-bottom: 1px solid var(--border); }
      .title-block { text-align: center; padding-bottom: 20px; }
      .kicker {
        font-family: var(--mono); font-size: 12px;
        letter-spacing: 0.08em; text-transform: uppercase;
        color: var(--subtle); margin-bottom: 10px;
      }
      h1 {
        font-size: clamp(34px, 4.2vw, 48px);
        line-height: 1.1; letter-spacing: -0.02em; margin: 0 0 8px;
      }
      .subtitle {
        font-family: var(--mono); font-size: 14px;
        letter-spacing: 0.04em; color: var(--subtle); margin: 0 0 10px;
      }
      .byline {
        font-family: var(--mono); font-size: 12.5px;
        color: var(--subtle); margin: -2px 0 14px;
      }
      .lede { color: var(--muted); font-size: 17px; margin: 12px 0; }
      .lede:first-of-type { margin-top: 0; }

      section {
        padding-top: 22px; margin-top: 22px;
        border-top: 1px solid var(--border);
      }
      h2 {
        font-size: 24px; line-height: 1.25; letter-spacing: -0.01em;
        margin: 0 0 10px; padding-bottom: 6px;
        border-bottom: 1px solid var(--border);
      }
      .subhead { color: var(--muted); margin: 0 0 10px; }
      .aside {
        border-left: 3px solid var(--border);
        padding-left: 14px; margin: 16px 0; color: var(--muted);
      }

      .panel {
        border: 1px solid var(--border); border-radius: 12px;
        background: #fff; overflow: hidden;
      }
      .panel-head {
        padding: 12px 14px 8px;
        display: flex; align-items: center; justify-content: space-between;
      }
      .panel-label {
        font-family: var(--mono); font-size: 11px; font-weight: 600;
        letter-spacing: 0.08em; text-transform: uppercase;
      }
      .panel-label.teal { color: var(--teal); }
      .panel-label.amber { color: var(--amber); }

      pre {
        margin: 14px 0;
        padding: 12px 12px;
        border-radius: 10px;
        background: #0b1020;
        color: #e5e7eb;
        overflow: auto;
        font-family: var(--mono);
        font-size: 12.5px;
        line-height: 1.55;
        border: 1px solid rgba(17, 24, 39, 0.25);
      }

      code {
        font-family: var(--mono);
      }

      .inline-code {
        background: #f3f4f6;
        padding: 0.1rem 0.25rem;
        border-radius: 6px;
        border: 1px solid var(--border);
        font-size: 0.92em;
      }

      footer {
        margin-top: 28px; padding-top: 18px;
        border-top: 1px solid var(--border);
        color: var(--subtle); font-size: 13px;
      }

      /* Workspace mockup styles */
      .ws-container {
        border: 1px solid var(--border);
        border-radius: 12px;
        overflow: hidden;
        margin: 18px 0;
        background: #1e1e2e;
        font-family: var(--mono);
        font-size: 11px;
        line-height: 1.5;
        color: #cdd6f4;
      }
      .ws-titlebar {
        background: #181825;
        padding: 4px 12px;
        font-size: 10px;
        color: #6c7086;
        display: flex;
        align-items: center;
        gap: 8px;
        border-bottom: 1px solid #313244;
      }
      .ws-dots {
        display: flex; gap: 4px;
      }
      .ws-dot {
        width: 8px; height: 8px; border-radius: 50%; display: inline-block;
      }
      .ws-dot.red { background: #f38ba8; }
      .ws-dot.yellow { background: #f9e2af; }
      .ws-dot.green { background: #a6e3a1; }
      .ws-body {
        display: flex;
        min-height: 320px;
      }
      .ws-sidebar {
        width: 160px;
        background: #181825;
        border-right: 1px solid #313244;
        padding: 8px 0;
        flex-shrink: 0;
      }
      .ws-sidebar-label {
        padding: 2px 10px;
        font-size: 9px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #6c7086;
        margin-bottom: 4px;
      }
      .ws-file {
        padding: 2px 10px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .ws-main {
        flex: 1;
        display: flex;
        flex-direction: column;
        min-width: 0;
      }
      .ws-panes {
        display: flex;
        flex: 1;
      }
      .ws-editor {
        flex: 1;
        border-right: 1px solid #313244;
        display: flex;
        flex-direction: column;
        min-width: 0;
      }
      .ws-editor-tab {
        background: #181825;
        padding: 4px 10px;
        font-size: 10px;
        color: #89b4fa;
        border-bottom: 1px solid #313244;
      }
      .ws-editor-content {
        padding: 8px 10px;
        flex: 1;
        overflow: hidden;
      }
      .ws-line-num {
        color: #6c7086;
        font-size: 10px;
      }
      .ws-preview {
        flex: 1;
        display: flex;
        flex-direction: column;
        min-width: 0;
      }
      .ws-preview-tab {
        background: #181825;
        padding: 4px 10px;
        font-size: 10px;
        color: #a6e3a1;
        border-bottom: 1px solid #313244;
      }
      .ws-preview-content {
        padding: 10px 12px;
        flex: 1;
        background: #252536;
        overflow: hidden;
      }
      .ws-terminal {
        border-top: 1px solid #313244;
        padding: 10px 12px;
        min-height: 70px;
      }
      .ws-terminal-label {
        font-size: 10px;
        color: #6c7086;
        margin-bottom: 4px;
      }
      .ws-highlight {
        box-shadow: inset 0 0 0 2px #cba6f7;
        border-radius: 2px;
      }
      @media (max-width: 600px) {
        .ws-body { flex-direction: column; }
        .ws-sidebar { width: 100%; border-right: none; border-bottom: 1px solid #313244; padding: 6px 0; }
        .ws-panes { flex-direction: column; }
        .ws-editor { border-right: none; border-bottom: 1px solid #313244; }
      }
    </style>
  </head>
  <body>
    <header class="topbar">
      <div class="topbar-inner">
        <a class="brand" href="#">
          <svg viewBox="0 0 16 16" aria-hidden="true">
            <circle cx="8" cy="8" r="6" fill="none" stroke="currentColor" stroke-width="1.5"></circle>
            <circle cx="8" cy="8" r="2" fill="currentColor"></circle>
          </svg>
          IRL Tutorial
        </a>
        <a
          class="util"
          href="draft.html"
        >
          Back to IRL Explainer
        </a>
      </div>
    </header>
    <div class="wrap">

      <!-- ═══════════════════════════════════════════════
           HEADER / LEDE
           ═══════════════════════════════════════════════ -->
      <header>
        <div class="title-block">
          <div class="kicker">Hands-on Tutorial</div>
          <h1>Your First IRL Project</h1>
          <div class="subtitle">A Literature Review with PubMed</div>
          <div class="byline">Ernest Pedapati, MD</div>
        </div>

        <p class="lede">
          In this tutorial, you will build a real literature review from scratch using
          the IRL pattern. You will use the PubMed skill to search for papers and the
          DOCX skill to produce a formatted Word document. By the end, you will have
          a reproducible workflow that you can reuse for any topic.
        </p>

        <p class="lede">
          No prior AI experience is needed. If you can write a few sentences describing
          what you want, you can do this. The whole process takes about fifteen minutes,
          and everything you produce belongs to you as plain files on your computer.
        </p>
      </header>

      <main>

        <!-- ═══════════════════════════════════════════════
             SECTION 1: What We're Building
             ═══════════════════════════════════════════════ -->
        <section>
          <h2>1. What We're Building</h2>
          <p class="subhead">
            A formatted Word document summarizing recent literature, produced reproducibly from a plan file.
          </p>

          <p>
            The end product is a literature review in Word format covering a specific
            research topic. For this tutorial, we will use "ERP biomarkers in autism"
            as our example. The document will include a summary table of the top
            papers, key findings from each study, and a narrative synthesis that ties
            them together.
          </p>

          <p>
            More importantly, the review is <em>reproducible</em>. The plan file
            records every search term, filter, and instruction you used. If your
            advisor asks you to expand the date range or add a new keyword, you
            update one line in the plan and run the loop again. The AI regenerates
            the document with your changes applied. No copy-pasting, no starting over.
          </p>
        </section>

        <!-- ═══════════════════════════════════════════════
             SECTION 2: Setting Up
             ═══════════════════════════════════════════════ -->
        <section>
          <h2>2. Setting Up</h2>
          <p class="subhead">
            Create a project from the IRL Basic Template and install two skills.
          </p>

          <p>
            Start by creating a new IRL project. Open a terminal and run:
          </p>

<pre>irl init "ERP biomarker lit review" -t irl-basic</pre>

          <p>
            This creates a folder named something like
            <span class="inline-code">260209-erp-biomarker-lit-review</span> with
            the standard IRL structure inside. Open this folder in VS Code (or any editor).
          </p>

          <p>
            Next, open <span class="inline-code">plans/main-plan.md</span> and find the
            <strong>First Time Setup</strong> section. Add these two lines to install the
            skills your project needs:
          </p>

<pre>## First Time Setup

- Install PubMed Skill: https://github.com/K-Dense-AI/claude-scientific-skills/tree/main/scientific-skills/pubmed-database
- Install Word DOCX Skill: https://github.com/anthropics/skills/tree/main/skills/docx</pre>

          <p>
            Skills are small instruction sets that teach your AI assistant how to use
            specific tools. The PubMed skill teaches it how to query the PubMed
            database, and the DOCX skill teaches it how to produce properly formatted
            Word documents. You install them once, and they stay available for every
            loop.
          </p>

          <p class="aside">Here is what your workspace looks like after setup. The plan file is open in the editor, and the project structure is visible in the sidebar.</p>

          <div id="ws-setup"></div>
        </section>

        <!-- ═══════════════════════════════════════════════
             SECTION 3: Writing Your First Instructions
             ═══════════════════════════════════════════════ -->
        <section>
          <h2>3. Writing Your First Instructions</h2>
          <p class="subhead">
            Tell the AI what to do, step by step, in plain language.
          </p>

          <p>
            Now comes the part that matters: writing the Instruction Loop. This is
            where you tell the AI exactly what work to perform. Scroll down in your
            plan file and find the <strong>Instruction Loop</strong> section. Write
            your instructions as a numbered list:
          </p>

<pre>## Instruction Loop

1. Search PubMed for "ERP biomarkers autism" (last 5 years, English, review articles)
2. Save top 20 results to 02-data/pubmed-results.json
3. Summarize each paper (title, authors, year, key findings) in a table
4. Draft a narrative literature review to 03-outputs/lit-review.docx</pre>

          <p>
            That is the entire instruction set. Four lines. Notice that you are writing
            in plain English, not code. You specify <em>what</em> you want, not
            <em>how</em> to do it. The AI figures out the how, using the skills you
            installed in the setup step.
          </p>

          <p>
            Each line maps to a concrete action: search, save, summarize, draft.
            The file paths (<span class="inline-code">02-data/pubmed-results.json</span>
            and <span class="inline-code">03-outputs/lit-review.docx</span>) tell the AI
            exactly where to put the results.
          </p>

          <p class="aside">Your editor now shows the instructions typed into the plan file. Nothing else has changed yet.</p>

          <div id="ws-instructions"></div>
        </section>

        <!-- ═══════════════════════════════════════════════
             SECTION 4: Running the Loop
             ═══════════════════════════════════════════════ -->
        <section>
          <h2>4. Running the Loop</h2>
          <p class="subhead">
            One command. That is all you need.
          </p>

          <p>
            Open a terminal AI (Claude Code, Copilot Chat, or any AI assistant with
            file access) and type:
          </p>

<pre>Review main-plan.md, check for any revisions, and execute</pre>

          <p>
            This is the only command you will ever need for any IRL project. The AI
            reads your plan file, checks whether there are any revisions since the
            last run, and then executes every instruction in the loop. You do not need
            to remember different commands for different tasks. The plan file contains
            all the context.
          </p>

          <p>
            While the loop runs, you will see the AI working through each step:
            connecting to PubMed, downloading results, building the summary table,
            and drafting the review document. This typically takes one to three
            minutes depending on the number of results.
          </p>

          <p class="aside">The terminal shows the AI executing your instructions. You can watch each step as it happens.</p>

          <div id="ws-running"></div>
        </section>

        <!-- ═══════════════════════════════════════════════
             SECTION 5: Reviewing the Output
             ═══════════════════════════════════════════════ -->
        <section>
          <h2>5. Reviewing the Output</h2>
          <p class="subhead">
            Check what the AI produced. Your judgment drives the quality.
          </p>

          <p>
            After the loop finishes, two new files appear in your project:
          </p>

          <p>
            <span class="inline-code">02-data/pubmed-results.json</span> contains
            the raw search results from PubMed. This is your data layer. You can
            inspect it, share it, or feed it into a different analysis later.
          </p>

          <p>
            <span class="inline-code">03-outputs/lit-review.docx</span> is the
            formatted literature review. Open it and read through it carefully. Check
            that the citations are accurate, the summaries reflect each paper's actual
            findings, and the narrative makes sense for your audience.
          </p>

          <p>
            This is where your expertise matters most. The AI can summarize papers and
            structure a document, but only you can judge whether the review captures
            the right themes, whether any important studies are missing, and whether
            the analysis holds up to scrutiny.
          </p>

          <p class="aside">New files appear in the sidebar. The preview shows an excerpt from the generated document.</p>

          <div id="ws-review"></div>
        </section>

        <!-- ═══════════════════════════════════════════════
             SECTION 6: Making Revisions
             ═══════════════════════════════════════════════ -->
        <section>
          <h2>6. Making Revisions</h2>
          <p class="subhead">
            Update the plan, run again. The loop handles the rest.
          </p>

          <p>
            After reviewing the document, you notice two things you want to change:
            the review needs a dedicated section on methodology gaps across the
            studies, and the citations should use APA format. Instead of manually
            editing the Word document, you go back to the plan file and add a revision.
          </p>

<pre>## Revisions

- Add a section on methodology gaps across the reviewed studies.
- Use APA citation format throughout.</pre>

          <p>
            Now run the same command again:
          </p>

<pre>Review main-plan.md, check for any revisions, and execute</pre>

          <p>
            The AI sees your revisions, reads through the existing data, and
            regenerates the document with a new methodology gaps section and APA
            citations applied throughout. The original search results are still in
            <span class="inline-code">02-data/</span>, so it does not need to
            re-query PubMed. It just rebuilds the output.
          </p>

          <p>
            This is the power of the loop. Each revision is a small, traceable change.
            You can look at the plan file and see exactly what changed between
            versions. If the new section is not right, you revise the revision. The
            cycle continues until the output meets your standards.
          </p>

          <p class="aside">The editor shows the revision added to the plan. The terminal re-runs the loop with the updated instructions.</p>

          <div id="ws-revision"></div>
        </section>

        <!-- ═══════════════════════════════════════════════
             SECTION 7: The After-Loop
             ═══════════════════════════════════════════════ -->
        <section>
          <h2>7. The After-Loop</h2>
          <p class="subhead">
            Save a checkpoint. Your plan file is your running record.
          </p>

          <p>
            After each loop, save a version checkpoint. If you are using Git, this
            is a commit. If not, simply note the date and what changed in your
            activity log. The plan file template includes an
            <span class="inline-code">activity.md</span> file for exactly this purpose.
          </p>

          <p>
            The plan file itself becomes your running record of every decision and
            change you made. Six months from now, when someone asks why you filtered
            for review articles only, or why you chose a five-year window, the answer
            is right there in the plan. No digging through chat logs. No trying to
            remember what you asked the AI to do.
          </p>

          <p class="aside">The terminal shows the checkpoint process completing. Your project is versioned and traceable.</p>

          <div id="ws-afterloop"></div>
        </section>

        <!-- ═══════════════════════════════════════════════
             SECTION 8: What You've Learned
             ═══════════════════════════════════════════════ -->
        <section>
          <h2>8. What You've Learned</h2>
          <p class="subhead">
            One pattern, any project.
          </p>

          <p>
            Here is what you just did. You wrote a plan describing what you wanted.
            You ran a single command. You reviewed the output and decided what to
            change. You updated the plan and ran the command again. That is the
            entire IRL workflow.
          </p>

          <p>
            The same pattern works for any project. A data analysis, a grant draft,
            a conference poster, a course syllabus, a technical report. You change
            the instructions in the plan file, install whatever skills you need, and
            run the same loop. The structure stays the same. Only the content changes.
          </p>

          <p>
            The key insight is that your plan file is the durable artifact, not the
            chat. Every decision you made, every revision, every search parameter
            is recorded in a file you own. That is work you can retrace, share, and
            build on.
          </p>

          <p style="margin-top: 24px;">
            <a href="draft.html" style="color: var(--teal); font-weight: 600;">
              Read the full IRL Explainer to learn more about the pattern &rarr;
            </a>
          </p>
        </section>

      </main>

      <footer>
        <p>IRL Tutorial. Built with the Idempotent Research Loop pattern.</p>
      </footer>
    </div>

    <script>
    /* ═══════════════════════════════════════════════
       Workspace Mockup Generator
       ═══════════════════════════════════════════════ */

    function createWorkspace(containerId, config) {
      var el = document.getElementById(containerId);
      if (!el) return;

      // Build sidebar HTML
      var sidebarHTML = '<div class="ws-sidebar-label">Explorer</div>';
      if (config.sidebar) {
        config.sidebar.forEach(function(f) {
          var indent = (f.indent || 0) * 12 + 10;
          var color = f.color || '#6c7086';
          var bg = f.highlight ? 'background:rgba(137,180,250,0.1);' : '';
          sidebarHTML += '<div class="ws-file" style="padding-left:' + indent + 'px;color:' + color + ';' + bg + '">' + f.name + '</div>';
        });
      }

      // Build editor lines HTML
      var editorHTML = '';
      if (config.editorLines) {
        config.editorLines.forEach(function(line) {
          var color = line.color || '#cdd6f4';
          editorHTML += '<div class="ws-line-num">' + line.num + '</div>';
          editorHTML += '<div style="color:' + color + '">' + line.text + '</div>';
        });
      }

      // Build preview HTML
      var previewHTML = '';
      if (config.previewContent) {
        previewHTML = config.previewContent;
      } else {
        previewHTML = '<div style="color:#6c7086;font-size:10px;padding:20px 0;text-align:center">No preview available</div>';
      }

      // Build terminal HTML
      var terminalHTML = '';
      if (config.terminalLines) {
        config.terminalLines.forEach(function(line) {
          var color = line.color || '#cdd6f4';
          var prefix = line.prefix ? '<span style="color:#a6e3a1">' + line.prefix + '</span> ' : '';
          terminalHTML += '<div>' + prefix + '<span style="color:' + color + '">' + line.text + '</span></div>';
        });
      }

      // Determine highlights
      var hlSidebar = config.highlightZone === 'sidebar' ? ' ws-highlight' : '';
      var hlEditor = config.highlightZone === 'editor' ? ' ws-highlight' : '';
      var hlPreview = config.highlightZone === 'preview' ? ' ws-highlight' : '';
      var hlTerminal = config.highlightZone === 'terminal' ? ' ws-highlight' : '';

      var html = '<div class="ws-container">' +
        '<div class="ws-titlebar">' +
          '<span class="ws-dots"><span class="ws-dot red"></span><span class="ws-dot yellow"></span><span class="ws-dot green"></span></span>' +
          '<span style="margin-left:8px">' + (config.projectName || 'my-irl-project') + ': Code Editor</span>' +
        '</div>' +
        '<div class="ws-body">' +
          '<div class="ws-sidebar' + hlSidebar + '">' + sidebarHTML + '</div>' +
          '<div class="ws-main">' +
            '<div class="ws-panes">' +
              '<div class="ws-editor' + hlEditor + '">' +
                '<div class="ws-editor-tab">' + (config.editorTab || 'main-plan.md') + '</div>' +
                '<div class="ws-editor-content">' + editorHTML + '</div>' +
              '</div>' +
              '<div class="ws-preview' + hlPreview + '">' +
                '<div class="ws-preview-tab">' + (config.previewTitle || 'Preview') + '</div>' +
                '<div class="ws-preview-content">' + previewHTML + '</div>' +
              '</div>' +
            '</div>' +
            '<div class="ws-terminal' + hlTerminal + '">' +
              '<div class="ws-terminal-label">TERMINAL</div>' +
              terminalHTML +
            '</div>' +
          '</div>' +
        '</div>' +
      '</div>';

      el.innerHTML = html;
    }

    /* ═══════════════════════════════════════════════
       Workspace States
       ═══════════════════════════════════════════════ */

    // Shared sidebar — base state (empty project)
    var baseSidebar = [
      { name: '\u25BC erp-biomarker-lit-review', indent: 0, color: '#cba6f7' },
      { name: '\u25BC plans/', indent: 1, color: '#6c7086' },
      { name: 'main-plan.md', indent: 2, color: '#89b4fa', highlight: true },
      { name: 'activity.md', indent: 2, color: '#6c7086' },
      { name: '\u25BC 02-data/', indent: 1, color: '#6c7086' },
      { name: '(empty)', indent: 2, color: '#45475a' },
      { name: '\u25BC 03-outputs/', indent: 1, color: '#6c7086' },
      { name: '(empty)', indent: 2, color: '#45475a' }
    ];

    // Sidebar after loop produces files
    var filledSidebar = [
      { name: '\u25BC erp-biomarker-lit-review', indent: 0, color: '#cba6f7' },
      { name: '\u25BC plans/', indent: 1, color: '#6c7086' },
      { name: 'main-plan.md', indent: 2, color: '#89b4fa' },
      { name: 'activity.md', indent: 2, color: '#6c7086' },
      { name: '\u25BC 02-data/', indent: 1, color: '#6c7086' },
      { name: 'pubmed-results.json', indent: 2, color: '#f9e2af', highlight: true },
      { name: '\u25BC 03-outputs/', indent: 1, color: '#6c7086' },
      { name: 'lit-review.docx', indent: 2, color: '#a6e3a1', highlight: true }
    ];

    // Section 2: Setup
    createWorkspace('ws-setup', {
      projectName: 'erp-biomarker-lit-review',
      sidebar: baseSidebar,
      editorTab: 'main-plan.md \u00D7',
      editorLines: [
        { num: 1, text: '<span style="color:#cba6f7">##</span> <span style="color:#f9e2af">First Time Setup</span>', color: '#cdd6f4' },
        { num: 2, text: '' },
        { num: 3, text: '- Install PubMed Skill: https://github.com/...', color: '#cdd6f4' },
        { num: 4, text: '- Install Word DOCX Skill: https://github.com/...', color: '#cdd6f4' },
        { num: 5, text: '' },
        { num: 6, text: '<span style="color:#cba6f7">##</span> <span style="color:#f9e2af">Instruction Loop</span>', color: '#cdd6f4' },
        { num: 7, text: '' },
        { num: 8, text: '<span style="color:#45475a">(instructions go here)</span>', color: '#45475a' }
      ],
      previewTitle: 'Preview',
      previewContent: '<div style="color:#6c7086;font-size:10px;padding:30px 0;text-align:center">Open a file to preview</div>',
      terminalLines: [
        { prefix: '$', text: 'irl init "ERP biomarker lit review" -t irl-basic', color: '#cdd6f4' },
        { text: 'Created: 260209-erp-biomarker-lit-review/', color: '#a6e3a1' },
        { prefix: '$', text: '\u2588', color: '#6c7086' }
      ],
      highlightZone: 'editor'
    });

    // Section 3: Instructions written
    createWorkspace('ws-instructions', {
      projectName: 'erp-biomarker-lit-review',
      sidebar: baseSidebar,
      editorTab: 'main-plan.md \u00D7',
      editorLines: [
        { num: 1, text: '<span style="color:#cba6f7">##</span> <span style="color:#f9e2af">Instruction Loop</span>', color: '#cdd6f4' },
        { num: 2, text: '' },
        { num: 3, text: '1. Search PubMed for "ERP biomarkers autism"', color: '#cdd6f4' },
        { num: 4, text: '   (last 5 years, English, review articles)', color: '#6c7086' },
        { num: 5, text: '2. Save top 20 results to 02-data/pubmed-results.json', color: '#cdd6f4' },
        { num: 6, text: '3. Summarize each paper (title, authors, year,', color: '#cdd6f4' },
        { num: 7, text: '   key findings) in a table', color: '#cdd6f4' },
        { num: 8, text: '4. Draft a narrative literature review to', color: '#cdd6f4' },
        { num: 9, text: '   03-outputs/lit-review.docx', color: '#cdd6f4' }
      ],
      previewTitle: 'Preview',
      previewContent: '<div style="color:#6c7086;font-size:10px;padding:30px 0;text-align:center">Open a file to preview</div>',
      terminalLines: [
        { prefix: '$', text: '\u2588', color: '#6c7086' }
      ],
      highlightZone: 'editor'
    });

    // Section 4: Running the loop
    createWorkspace('ws-running', {
      projectName: 'erp-biomarker-lit-review',
      sidebar: baseSidebar,
      editorTab: 'main-plan.md \u00D7',
      editorLines: [
        { num: 1, text: '<span style="color:#cba6f7">##</span> <span style="color:#f9e2af">Instruction Loop</span>', color: '#cdd6f4' },
        { num: 2, text: '' },
        { num: 3, text: '1. Search PubMed for "ERP biomarkers autism"', color: '#cdd6f4' },
        { num: 4, text: '   (last 5 years, English, review articles)', color: '#6c7086' },
        { num: 5, text: '2. Save top 20 results to 02-data/pubmed-results.json', color: '#cdd6f4' },
        { num: 6, text: '3. Summarize each paper in a table', color: '#cdd6f4' },
        { num: 7, text: '4. Draft a narrative literature review to', color: '#cdd6f4' },
        { num: 8, text: '   03-outputs/lit-review.docx', color: '#cdd6f4' }
      ],
      previewTitle: 'Preview',
      previewContent: '<div style="color:#6c7086;font-size:10px;padding:30px 0;text-align:center">Waiting for output...</div>',
      terminalLines: [
        { prefix: '$', text: 'Review main-plan.md, check for any revisions, and execute', color: '#cdd6f4' },
        { text: '\u2714 Reading plan file...', color: '#a6e3a1' },
        { text: '\u2714 Installing PubMed skill...', color: '#a6e3a1' },
        { text: '\u2714 Installing DOCX skill...', color: '#a6e3a1' },
        { text: '\u25CB Querying PubMed: "ERP biomarkers autism"...', color: '#f9e2af' },
        { text: '  Found 47 results, filtering to top 20...', color: '#6c7086' }
      ],
      highlightZone: 'terminal'
    });

    // Section 5: Reviewing output
    createWorkspace('ws-review', {
      projectName: 'erp-biomarker-lit-review',
      sidebar: filledSidebar,
      editorTab: 'main-plan.md \u00D7',
      editorLines: [
        { num: 1, text: '<span style="color:#cba6f7">##</span> <span style="color:#f9e2af">Instruction Loop</span>', color: '#cdd6f4' },
        { num: 2, text: '' },
        { num: 3, text: '1. Search PubMed for "ERP biomarkers autism"', color: '#cdd6f4' },
        { num: 4, text: '2. Save top 20 results to 02-data/...', color: '#cdd6f4' },
        { num: 5, text: '3. Summarize each paper in a table', color: '#cdd6f4' },
        { num: 6, text: '4. Draft a narrative literature review', color: '#cdd6f4' }
      ],
      previewTitle: 'lit-review.docx: Preview',
      previewContent:
        '<div style="font-size:12px;font-weight:700;color:#cdd6f4;margin-bottom:6px">Literature Review: ERP Biomarkers in Autism</div>' +
        '<div style="font-size:10px;color:#6c7086;margin-bottom:10px">Generated from main-plan.md</div>' +
        '<div style="font-size:10px;color:#cba6f7;margin-bottom:6px;font-weight:600">Summary Table</div>' +
        '<div style="display:grid;grid-template-columns:1fr 1fr;gap:4px;margin-bottom:10px">' +
          '<div style="background:#313244;padding:4px 6px;border-radius:3px;font-size:9px">' +
            '<div style="color:#89b4fa">Wang et al. (2024)</div>' +
            '<div style="color:#6c7086">P300 latency differences</div>' +
          '</div>' +
          '<div style="background:#313244;padding:4px 6px;border-radius:3px;font-size:9px">' +
            '<div style="color:#89b4fa">Chen et al. (2023)</div>' +
            '<div style="color:#6c7086">MMN amplitude in ASD</div>' +
          '</div>' +
          '<div style="background:#313244;padding:4px 6px;border-radius:3px;font-size:9px">' +
            '<div style="color:#89b4fa">Patel et al. (2023)</div>' +
            '<div style="color:#6c7086">N170 face processing</div>' +
          '</div>' +
          '<div style="background:#313244;padding:4px 6px;border-radius:3px;font-size:9px">' +
            '<div style="color:#89b4fa">Kim et al. (2022)</div>' +
            '<div style="color:#6c7086">Auditory ERP review</div>' +
          '</div>' +
        '</div>' +
        '<div style="font-size:10px;color:#a6adc8;line-height:1.5">Event-related potentials have emerged as promising biomarkers for autism spectrum disorder, with several components showing consistent...</div>',
      terminalLines: [
        { text: '\u2714 Saved 20 results to 02-data/pubmed-results.json', color: '#a6e3a1' },
        { text: '\u2714 Summary table generated (20 papers)', color: '#a6e3a1' },
        { text: '\u2714 Literature review written to 03-outputs/lit-review.docx', color: '#a6e3a1' },
        { text: 'Loop complete. 3 files produced.', color: '#cba6f7' }
      ],
      highlightZone: 'preview'
    });

    // Section 6: Making revisions
    createWorkspace('ws-revision', {
      projectName: 'erp-biomarker-lit-review',
      sidebar: filledSidebar,
      editorTab: 'main-plan.md \u00D7',
      editorLines: [
        { num: 1, text: '<span style="color:#cba6f7">##</span> <span style="color:#f9e2af">Instruction Loop</span>', color: '#cdd6f4' },
        { num: 2, text: '1. Search PubMed for "ERP biomarkers autism"', color: '#cdd6f4' },
        { num: 3, text: '2. Save top 20 results to 02-data/...', color: '#cdd6f4' },
        { num: 4, text: '3. Summarize each paper in a table', color: '#cdd6f4' },
        { num: 5, text: '4. Draft a narrative literature review', color: '#cdd6f4' },
        { num: 6, text: '' },
        { num: 7, text: '<span style="color:#cba6f7">##</span> <span style="color:#f9e2af">Revisions</span>', color: '#cdd6f4' },
        { num: 8, text: '' },
        { num: 9, text: '<span style="color:#f38ba8">\u2738</span> <span style="color:#f9e2af;font-style:italic">Add methodology gaps section</span>', color: '#cdd6f4' },
        { num: 10, text: '<span style="color:#f38ba8">\u2738</span> <span style="color:#f9e2af;font-style:italic">Use APA citation format</span>', color: '#cdd6f4' }
      ],
      previewTitle: 'lit-review.docx: Preview',
      previewContent:
        '<div style="color:#6c7086;font-size:10px;padding:20px 0;text-align:center">' +
          '<div style="color:#f9e2af;margin-bottom:6px">Regenerating document...</div>' +
          '<div>Applying 2 revisions</div>' +
        '</div>',
      terminalLines: [
        { prefix: '$', text: 'Review main-plan.md, check for any revisions, and execute', color: '#cdd6f4' },
        { text: '\u2714 Reading plan file...', color: '#a6e3a1' },
        { text: '\u2714 Found 2 revisions to apply', color: '#f9e2af' },
        { text: '\u25CB Rebuilding lit-review.docx with revisions...', color: '#f9e2af' },
        { text: '  Adding methodology gaps section...', color: '#6c7086' },
        { text: '  Reformatting citations to APA...', color: '#6c7086' }
      ],
      highlightZone: 'editor'
    });

    // Section 7: After-Loop
    createWorkspace('ws-afterloop', {
      projectName: 'erp-biomarker-lit-review',
      sidebar: [
        { name: '\u25BC erp-biomarker-lit-review', indent: 0, color: '#cba6f7' },
        { name: '\u25BC plans/', indent: 1, color: '#6c7086' },
        { name: 'main-plan.md', indent: 2, color: '#89b4fa' },
        { name: 'activity.md', indent: 2, color: '#f9e2af', highlight: true },
        { name: '\u25BC 02-data/', indent: 1, color: '#6c7086' },
        { name: 'pubmed-results.json', indent: 2, color: '#f9e2af' },
        { name: '\u25BC 03-outputs/', indent: 1, color: '#6c7086' },
        { name: 'lit-review.docx', indent: 2, color: '#a6e3a1' }
      ],
      editorTab: 'activity.md \u00D7',
      editorLines: [
        { num: 1, text: '<span style="color:#cba6f7">##</span> <span style="color:#f9e2af">Activity Log</span>', color: '#cdd6f4' },
        { num: 2, text: '' },
        { num: 3, text: '<span style="color:#89b4fa">### Loop 1</span>', color: '#cdd6f4' },
        { num: 4, text: 'Initial PubMed search, 20 papers, draft review', color: '#6c7086' },
        { num: 5, text: '' },
        { num: 6, text: '<span style="color:#89b4fa">### Loop 2</span>', color: '#cdd6f4' },
        { num: 7, text: 'Added methodology gaps section, APA format', color: '#6c7086' },
        { num: 8, text: '' },
        { num: 9, text: '<span style="color:#a6e3a1">\u2714 Version checkpoint saved</span>', color: '#a6e3a1' }
      ],
      previewTitle: 'lit-review.docx: Preview',
      previewContent:
        '<div style="font-size:11px;font-weight:700;color:#cdd6f4;margin-bottom:6px">Literature Review (v2)</div>' +
        '<div style="font-size:9px;color:#6c7086;margin-bottom:8px">Updated: methodology gaps, APA format</div>' +
        '<div style="font-size:10px;color:#a6adc8;line-height:1.5">...Several methodological gaps persist across the reviewed literature. Sample sizes remain small in most ERP studies of ASD, with only 3 of 20 reviewed studies exceeding...</div>',
      terminalLines: [
        { text: '\u2714 Literature review updated (v2)', color: '#a6e3a1' },
        { text: '\u2714 Activity log updated', color: '#a6e3a1' },
        { text: '\u2714 Version checkpoint saved', color: '#a6e3a1' },
        { text: 'All done. 2 loops completed.', color: '#cba6f7' }
      ],
      highlightZone: 'terminal'
    });
    </script>
  </body>
</html>
